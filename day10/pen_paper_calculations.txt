After getting the lenghts of the 1-sequences you can see that (for the given input) they are never longer than 4.
The different arrangements for at most 4 adapters can be written down by hand:

1 1
2
        -> 2 ways


1 1 1
2 1
1 2
3
        -> 4 ways


1 1 1 1
2 1 1
1 2 1
1 1 2
2 2
3 1
1 3
        -> 7 ways

This is technically cheating in a code challenge, but it gets the job done - in an absolutely reasonable amount of time (for the given input) ;)
